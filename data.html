<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="navbar.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script>
        window.onload=tekenmenu;
    </script>
  
</head>
<body>
     <!-- A grey horizontal navbar that becomes vertical on small screens -->
<div id="menu"></div> 

  
 <div class="form-group">
  <label for="sel1">Select list (select one):</label>
  <select class="form-control" id="country">
    <option value="UK">United Kingdom</option>
    <option value="DE">Duitsland</option>
    <option value="FR">Frankrijk</option>
    <option value="NL">Nederland</option>
  </select>
</div> 

<!-- <div class="form-group">
  <label for="sel1">Select list (select one):</label>
  <select class="form-control" id="sex">
    <option value="F">Vrouw</option>
    <option value="M">Man</option>
    
  </select>
</div>  -->

<!-- <select id="country">
  <option value="UK">United Kingdom</option>
  <option value="DE">Germany</option>
  <option value="FR">Frankrijk</option>
  <option value="NL">Nederland</option>
</select>
<br> -->
<select id="sex">
  <option value="F">Vrouw</option>
  <option value="M">Man</option>
 
</select>


<!-- <div class="container">
  <h2>Form control: radio buttons</h2>
  <p>The form below contains three radio buttons. The last option is disabled:</p>
  <form>
    <div class="radio">
      <label><input type="radio" name="optradio" id="F" >Vrouw</label>
    </div>
    <div class="radio">
      <label><input type="radio" name="optradio" id="M">Man</label>
    </div>
      </form>
</div> -->



      

      <!-- <button onclick="letsgo()">Klik hier</button> -->
      <button type="button" class="btn btn-primary" onclick="letsgo()">Update</button>

  
      <div id="myChart"></div>

  <!-- <div class="row">
    <div class="col-lg-4 text-center"><button type="button" class="btn btn-primary custombutton">Vacatures</button></div>
    <div class="col-lg-4 text-center"><button type="button" class="btn btn-primary custombutton">CVs</button></div>
    <div class="col-lg-4 text-center"><button type="button" class="btn btn-primary custombutton">Profiel</button></div>
  </div> -->

  <style>
    .custombutton {
        width:200px;
        aspect-ratio: 1;
    }

   
  </style>
  
    
    

  <link rel="stylesheet" type="text/css" href="styles.css">
  <script>
        function letsgo() {
          var country = document.getElementById("country").value;
          var sex = document.getElementById("sex").value;
          // fetch("http://127.0.0.1:5000/jefta/" + countryCode)        
          fetch(`http://127.0.0.1:5000/filterdata?country=${country}&sex=${sex}`)
            .then(r => r.json())
            .then(d => verwerkgegevens(d));
        }
      
        function verwerkgegevens(data) {
          var OBS_VALUES = [];
          var TIME_PERIODS = [];
      
          for (var x = 0; x < data.length; x++) {
            var OBS_VALUE = data[x].OBS_VALUE;
            var TIME_PERIOD = data[x].TIME_PERIOD;
      
            OBS_VALUES.push(OBS_VALUE);
            TIME_PERIODS.push(TIME_PERIOD);
          }
      
          var trace = {
            x: TIME_PERIODS,
            y: OBS_VALUES,
            type: 'scatter'
          };
      
          var plotData = [trace];
      
          var layout = {
            title: 'OBS_VALUE vs TIME_PERIOD',
            xaxis: {
              title: 'TIME_PERIOD'
            },
            yaxis: {
              title: 'OBS_VALUE'
            },
            width: 800,  // Specify the desired width of the graph in pixels
      height: 500
          };
      
          Plotly.newPlot('myChart', plotData, layout);
      
          console.log(OBS_VALUES);
          console.log(TIME_PERIODS);
        }
      </script>
</body>
</html>